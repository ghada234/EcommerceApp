"use strict";(self.webpackChunkangular_project=self.webpackChunkangular_project||[]).push([[708],{6708:(H,h,i)=>{i.r(h),i.d(h,{ShopModule:()=>N});var c=i(8583),C=i(4466),p=i(5436),t=i(3018),g=i(1841);class v{constructor(){this.data=[]}}var l=i(8002);class m{constructor(){this.selectedType=0,this.selectedBrand=0,this.SelectedSort="name",this.pageIndex=1,this.pageSize=6}}var d=i(5917);let _=(()=>{class n{constructor(e){this.http=e,this.baseUrl="/api/",this.products=[],this.types=[],this.brands=[],this.pagination=new v,this.shopParams=new m,this.productCashed=new Map}getProducts(e){if(!1===e&&(this.productCashed=new Map),this.productCashed.has(Object.values(this.shopParams).join("-"))&&1==e)return this.pagination.data=this.productCashed.get(Object.values(this.shopParams).join("-")),(0,d.of)(this.pagination);let o=new g.LE;return 0!==this.shopParams.selectedBrand&&(o=o.append("brandId",this.shopParams.selectedBrand.toString())),0!==this.shopParams.selectedType&&(o=o.append("typeId",this.shopParams.selectedType.toString())),this.shopParams.SelectedSort&&(o=o.append("sort",this.shopParams.SelectedSort)),o=o.append("pageIndex",this.shopParams.pageIndex.toString()),o=o.append("pageSize",this.shopParams.pageSize.toString()),this.shopParams.searchTerm&&(o=o.append("search",this.shopParams.searchTerm)),this.http.get(`${this.baseUrl}product`,{observe:"response",params:o}).pipe((0,l.U)(r=>(this.productCashed.set(Object.values(this.shopParams).join("-"),r.body.data),this.pagination=r.body,this.pagination)))}getProductsTypes(){return this.types.length>0?(0,d.of)(this.types):this.http.get(`${this.baseUrl}product/types`).pipe((0,l.U)(e=>(this.types=e,e)))}getProductsBrands(){return this.brands.length>0?(0,d.of)(this.brands):this.http.get(`${this.baseUrl}product/brands`).pipe((0,l.U)(e=>(this.brands=e,e)))}getProduct(e){let o;return this.productCashed.forEach(r=>{o=r.find(a=>a.id==e)}),o?(0,d.of)(o):this.http.get(`${this.baseUrl}product/${e}`)}setShopParams(e){this.shopParams=e}getShopParams(){return this.shopParams}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(g.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Z=i(7285),f=i(2284);function T(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"h2",5),t._uU(4),t.qZA(),t.TgZ(5,"p",6),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.qZA(),t.TgZ(8,"div",7),t.TgZ(9,"div"),t.TgZ(10,"h5"),t._uU(11,"Quantity"),t.qZA(),t.TgZ(12,"a",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().incrementQuantity()}),t._UZ(13,"i",9),t.qZA(),t.TgZ(14,"span",10),t._uU(15),t.qZA(),t.TgZ(16,"a",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().decrementQuantity()}),t._UZ(17,"i",11),t.qZA(),t.qZA(),t.TgZ(18,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().addItemToBasket()}),t._uU(19,"Add To Cart"),t.qZA(),t.qZA(),t.TgZ(20,"h4"),t._uU(21,"Description"),t.qZA(),t.TgZ(22,"p",13),t._uU(23),t.qZA(),t.qZA(),t.TgZ(24,"div",14),t._UZ(25,"img",15),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(e.product.name),t.xp6(2),t.Oqu(t.lcZ(7,6,e.product.price)),t.xp6(9),t.Oqu(e.quanity),t.xp6(8),t.Oqu(e.product.description),t.xp6(2),t.s9C("src",e.product.picureUrl,t.LSH),t.s9C("alt",e.product.name)}}let x=(()=>{class n{constructor(e,o,r,a){this.shopservice=e,this.activatedRoute=o,this.bcservice=r,this.basketservice=a,this.quanity=1,this.bcservice.set("@BroductDetails"," ")}ngOnInit(){this.loadProduct()}loadProduct(){this.shopservice.getProduct(+this.activatedRoute.snapshot.paramMap.get("id")).subscribe(e=>{this.product=e,this.bcservice.set("@BroductDetails",e.name)},e=>{console.log(e)})}addItemToBasket(){this.basketservice.AddIemToBasket(this.product,this.quanity)}incrementQuantity(){this.quanity++}decrementQuantity(){this.quanity>1?this.quanity--:this.quanity=1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_),t.Y36(p.gz),t.Y36(Z.pm),t.Y36(f.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-detail"]],decls:2,vars:1,consts:[[1,"container"],["class","row featurette mt-4",4,"ngIf"],[1,"row","featurette","mt-4"],[1,"col-md-7"],[1,"header"],[1,"feature-heading","text-center",2,"border-bottom","1px solid #ccc"],[1,"mt-4",2,"font-size","1.5rem"],[1,"d-flex-column","mt-4","mb-4"],[3,"click"],[1,"fas","fa-plus-square","fa-2x","mr-2",2,"color","#2964a7","cursor","pointer"],[2,"font-weight","bold","font-size","2rem"],[1,"fas","fa-minus-square","fa-2x","ml-2",2,"color","#2964a7","cursor","pointer"],[1,"btn","btn-primary","btn-lg",3,"click"],[1,"lead","mt-3"],[1,"col-md-5"],[1,"img-fluid",3,"src","alt"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,T,26,8,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.product))},directives:[c.O5],pipes:[c.H9],styles:[""]}),n})();function P(n,s){if(1&n&&(t.TgZ(0,"p",2),t._uU(1," Showing "),t.TgZ(2,"strong",3),t._uU(3),t.qZA(),t._uU(4," items of "),t.TgZ(5,"strong",3),t._uU(6),t.qZA(),t._uU(7,"items "),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.AsE("",(e.pageIndex-1)*e.pageSize+1,"- ",e.pageIndex*e.pageSize>e.totalCount?e.totalCount:e.pageIndex*e.pageSize," "),t.xp6(3),t.hij(" ",e.totalCount,"")}}function S(n,s){1&n&&(t.TgZ(0,"p",4),t._uU(1," No product Found"),t.qZA())}let y=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-paging-header"]],inputs:{pageIndex:"pageIndex",pageSize:"pageSize",totalCount:"totalCount"},decls:3,vars:2,consts:[["class","","style","font-weight: bold",4,"ngIf"],["style","font-weight: bold",4,"ngIf"],[1,"",2,"font-weight","bold"],[2,"color","#2360a5"],[2,"font-weight","bold"]],template:function(e,o){1&e&&(t.TgZ(0,"header"),t.YNc(1,P,8,3,"p",0),t.YNc(2,S,2,0,"p",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.totalCount&&o.totalCount>0),t.xp6(1),t.Q6J("ngIf",0==o.totalCount))},directives:[c.O5],styles:[""]}),n})();var u=i(665);let b=(()=>{class n{constructor(e){this.basketservice=e}ngOnInit(){}addItemToBasket(){this.basketservice.AddIemToBasket(this.product)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-products-item"]],inputs:{product:"product"},decls:16,vars:7,consts:[[1,"card","mb-4","shadow-sm","h-100",2,"margin-bottom","20px"],[1,"img-container"],["alt","product.name",1,"image",2,"max-height","200px",3,"src"],[1,"overlay"],[1,"btn-group","buttons"],["type","button",1,"btn","btn-small","btn-primary","mr-2","w-60",3,"click"],["type","button",1,"btn","btn-primary","w-40",3,"routerLink"],[1,"card-body","d-flex","flex-column","h-100","jusify-between"],[2,"cursor","pointer","text-decoration","none",3,"routerLink"],[1,"upper-case"],[1,"mb-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"button",5),t.NdJ("click",function(){return o.addItemToBasket()}),t._uU(6,"Add To Cart"),t.qZA(),t.TgZ(7,"button",6),t._uU(8,"View"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",7),t.TgZ(10,"a",8),t.TgZ(11,"h5",9),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"span",10),t._uU(14),t.ALo(15,"currency"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.s9C("src",o.product.picureUrl,t.LSH),t.xp6(5),t.MGl("routerLink","/shop/",o.product.id,""),t.xp6(3),t.MGl("routerLink","/shop/",o.product.id,""),t.xp6(2),t.Oqu(o.product.name),t.xp6(2),t.Oqu(t.lcZ(15,5,o.product.price)))},directives:[p.rH,p.yS],pipes:[c.H9],styles:["a[_ngcontent-%COMP%]{color:#2360a5}.img-container[_ngcontent-%COMP%]{position:relative}.image[_ngcontent-%COMP%]{display:block;width:100%;height:auto}.overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background-color:#f5f5f580;overflow:hidden;width:0;height:100%;transition:.5s ease}.img-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);white-space:nowrap}"]}),n})();var A=i(2492);let q=(()=>{class n{constructor(){this.pageChangedChild=new t.vpe}ngOnInit(){}OnPageChange(e){this.pageChangedChild.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-pager"]],inputs:{totalCount:"totalCount",pageSize:"pageSize",pageIndex:"pageIndex"},outputs:{pageChangedChild:"pageChangedChild"},decls:1,vars:4,consts:[["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",1,"mt-3","mb-3",3,"boundaryLinks","totalItems","itemsPerPage","ngModel","pageChanged"]],template:function(e,o){1&e&&(t.TgZ(0,"pagination",0),t.NdJ("pageChanged",function(a){return o.OnPageChange(a)}),t.qZA()),2&e&&t.Q6J("boundaryLinks",!0)("totalItems",o.totalCount)("itemsPerPage",o.pageSize)("ngModel",o.pageIndex)},directives:[A.Qt,u.JJ,u.On],styles:[""]}),n})();const I=["searchElement"];function w(n,s){if(1&n&&(t.TgZ(0,"option",16),t._uU(1),t.qZA()),2&n){const e=s.$implicit,o=t.oxw(2);t.Q6J("value",e.value)("selected",o.shopParams.SelectedSort===e.value),t.xp6(1),t.Oqu(e.name)}}function U(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"li",17),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).onSelectBrand(a.id)}),t._uU(1),t.qZA()}if(2&n){const e=s.$implicit,o=t.oxw(2);t.ekj("active",o.shopParams.selectedBrand===e.id),t.xp6(1),t.hij(" ",e.name,"")}}function k(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"li",18),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).onSelectType(a.id)}),t._uU(1),t.qZA()}if(2&n){const e=s.$implicit,o=t.oxw(2);t.ekj("active",o.shopParams.selectedType===e.id),t.xp6(1),t.hij(" ",e.name," ")}}function O(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h5",10),t._uU(2,"Sort"),t.qZA(),t.TgZ(3,"select",11),t.NdJ("change",function(r){return t.CHM(e),t.oxw().onSelectedSort(r.target.value)}),t.YNc(4,w,2,3,"option",12),t.qZA(),t.TgZ(5,"h5",10),t._uU(6,"Brands"),t.qZA(),t.TgZ(7,"ul",13),t.YNc(8,U,2,3,"li",14),t.qZA(),t.TgZ(9,"h5",10),t._uU(10,"Types"),t.qZA(),t.TgZ(11,"ul",13),t.YNc(12,k,2,3,"li",15),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.sortingList),t.xp6(4),t.Q6J("ngForOf",e.productBrands),t.xp6(4),t.Q6J("ngForOf",e.productTypes)}}function M(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",19),t._UZ(1,"input",20,21),t.TgZ(3,"button",22),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSearch()}),t._uU(4,"Search"),t.qZA(),t.TgZ(5,"button",23),t.NdJ("click",function(){return t.CHM(e),t.oxw().onReset()}),t._uU(6,"Reset"),t.qZA(),t.qZA()}}function B(n,s){if(1&n&&(t.TgZ(0,"div",24),t._UZ(1,"app-products-item",25),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Q6J("product",e)}}function J(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",26),t.TgZ(1,"app-pager",27),t.NdJ("pageChangedChild",function(r){return t.CHM(e),t.oxw().pageChanged(r)}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("pageSize",e.shopParams.pageSize)("pageIndex",e.shopParams.pageIndex)("totalCount",e.totalCount)}}const F=[{path:"",component:(()=>{class n{constructor(e){this.shopservice=e,this.products=[],this.productBrands=[],this.productTypes=[],this.sortingList=[{name:"alphaptical",value:"name"},{name:"Low to Hight Price",value:"priceAsc"},{name:"Hight to Low Price",value:"priceDesc"}],this.shopParams=this.shopservice.getShopParams()}ngOnInit(){this.getProducts(!0),this.getProductBrands(),this.getProductTypes()}getProducts(e=!1){this.shopservice.getProducts(e).subscribe(o=>{this.products=o.data,this.totalCount=o.count},o=>{console.log(o)})}getProductBrands(){this.shopservice.getProductsBrands().subscribe(e=>{this.productBrands=[{id:0,name:"All"},...e]},e=>{console.log(e)})}getProductTypes(){this.shopservice.getProductsTypes().subscribe(e=>{this.productTypes=[{id:0,name:"All"},...e]},e=>{console.log(e)})}onSelectType(e){const o=this.shopservice.getShopParams();o.selectedType=e,o.pageIndex=1,this.shopservice.setShopParams(o),this.getProducts()}onSelectBrand(e){const o=this.shopservice.getShopParams();o.selectedBrand=e,o.pageIndex=1,this.shopservice.setShopParams(o),this.getProducts()}onSelectedSort(e){const o=this.shopservice.getShopParams();o.SelectedSort=e,this.shopParams.SelectedSort=e,this.shopservice.setShopParams(o),this.getProducts()}pageChanged(e){const o=this.shopservice.getShopParams();o.pageIndex=e.page,this.shopservice.setShopParams(o),this.getProducts(!0)}onSearch(){const e=this.shopservice.getShopParams();e.searchTerm=this.searchTerm.nativeElement.value,e.pageIndex=1,this.shopservice.setShopParams(e),this.getProducts()}onReset(){this.searchTerm.nativeElement.value="",this.shopParams=new m,this.shopservice.setShopParams(this.shopParams),this.getProducts()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop"]],viewQuery:function(e,o){if(1&e&&t.Gf(I,5),2&e){let r;t.iGM(r=t.CRH())&&(o.searchTerm=r.first)}},decls:11,vars:7,consts:[[1,"container",2,"margin-top","50px"],[1,"row"],[1,"col-md-3"],[4,"ngIf"],[1,"col-md-9"],[1,"d-flex","justify-content-between","mt-2","mb-2"],[3,"totalCount","pageIndex","pageSize"],["class","form-group form-inline",4,"ngIf"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],["class","d-flex justify-content-center mt-3 mb-3",4,"ngIf"],[1,"mt-2","mb-2","text-center"],[1,"custom-select",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"list-group"],["class","list-group-item","style","cursor: pointer;",3,"active","click",4,"ngFor","ngForOf"],["class","list-group-item","aria-current","true","style","cursor: pointer;",3,"active","click",4,"ngFor","ngForOf"],[3,"value","selected"],[1,"list-group-item",2,"cursor","pointer",3,"click"],["aria-current","true",1,"list-group-item",2,"cursor","pointer",3,"click"],[1,"form-group","form-inline"],["type","text","id","exampleFormControlInput1",1,"form-control","ml-2","mr-2",2,"border-radius","20px"],["searchElement",""],[1,"bt","btn-primary","mr-2",3,"click"],[1,"bt","btn-secondary","mr-2",3,"click"],[1,"col-md-4","mb-3"],[3,"product"],[1,"d-flex","justify-content-center","mt-3","mb-3"],[3,"pageSize","pageIndex","totalCount","pageChangedChild"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.YNc(3,O,13,3,"ng-container",3),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"app-paging-header",6),t.YNc(7,M,7,0,"div",7),t.qZA(),t.TgZ(8,"div",1),t.YNc(9,B,2,1,"div",8),t.qZA(),t.YNc(10,J,2,3,"div",9),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngIf",o.productTypes.length>0&&o.productBrands.length>0),t.xp6(3),t.Q6J("totalCount",o.totalCount)("pageIndex",o.shopParams.pageIndex)("pageSize",o.shopParams.pageSize),t.xp6(1),t.Q6J("ngIf",o.products.length>0),t.xp6(2),t.Q6J("ngForOf",o.products),t.xp6(1),t.Q6J("ngIf",o.totalCount&&o.totalCount>0))},directives:[c.O5,y,c.sg,u.YN,u.Kr,b,q],styles:["h5[_ngcontent-%COMP%]{color:#036ae0}a[_ngcontent-%COMP%]{color:#2360a5}.list-group-item[_ngcontent-%COMP%]{transition:all .6s ease-in-out}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#b4c1f5;color:#fff}"]}),n})()},{path:":id",component:x,data:{breadcrumb:{alias:"BroductDetails"}}}];let z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(F)],p.Bz]}),n})(),N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.ez,C.m,z]]}),n})()}}]);